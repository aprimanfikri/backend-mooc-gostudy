{
  "openapi": "3.0.0",
  "info": {
    "title": "Binar Final Project Massive Open Online Course (MOOC) API - GoStudy (C9)",
    "description": "Ini merupakan API Collection dari Final Project Tim C9. Saat ini API yang tersedia yaitu untuk tag Users dan untuk tag lainnya akan ditambahkan secara berkala.",
    "version": "1.0.0"
  },
  "tags": [
    {
      "name": "Users",
      "description": " Ini adalah API untuk USERS resources yang di dalamya terdiri dari beberapa endpoint"
    }
  ],
  "servers": [
    {
      "url": "https://backendbelajar-production.up.railway.app/api/v1"
    }
  ],
  "paths": {
    "/auth/register": {
      "post": {
        "tags": ["Users"],
        "summary": "Register user",
        "description": "Ini adalah API endpoint yang digunakan untuk register new user",
        "requestBody": {
          "description": "Request body untuk sukses registration",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": " Full name of the user",
                    "example": "John Doe"
                  },
                  "email": {
                    "type": "string",
                    "description": "Email address of the user",
                    "example": "johndoe@mail.com"
                  },
                  "password": {
                    "type": "string",
                    "description": "Password of the user",
                    "example": "12345678"
                  },
                  "phoneNumber": {
                    "type": "string",
                    "description": "Phone Number of the user",
                    "example": "081958883820"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User registered successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "User registered successfully"
                    }
                  }
                }
              }
            }
          },
          "4xx": {
            "description": "Failed Register New User",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "failed"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "email already registered or password less than 8 characters"
                    }
                  }
                }
              }
            }
          },
          "5xx": {
            "description": "Error User Registration",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Error occured during user registration  "
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/resend": {
      "post": {
        "tags": ["Users"],
        "security": [
          {
            "bearerToken": []
          }
        ],
        "summary": "Ini adalah endpoint API yang digunakan untuk Resend OTP",
        "responses": {
          "200": {
            "description": "OTP Successfully Sent",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "OTP Successfully Sent"
                    }
                  }
                }
              }
            }
          },
          "4xx": {
            "description": "Failed to resend OTP",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "failed"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "failed to send otp"
                    }
                  }
                }
              }
            }
          },
          "5xx": {
            "description": "Error to resend the OTP",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Error occured during the resend otp process"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/verify": {
      "post": {
        "tags": ["Users"],
        "security": [
          {
            "bearerToken": []
          }
        ],
        "summary": "Verify a user",
        "description": "Ini adalah API endpoint yang digunakan untuk verify a user berdasarkan OTP yang disediakan. User harus mengirimkan OTP yang diterima saat proses registrasi untuk menyelesaikan verifikasi",
        "requestBody": {
          "description": "Request body untuk sukses verification",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "otp": {
                    "type": "string",
                    "description": "OTP yang telah dikirimkan kepada user",
                    "example": "9898"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User verified successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "User verified successfully"
                    }
                  }
                }
              }
            }
          },
          "4xx": {
            "description": "Failed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "failed"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "User verification failed, OTP is incorrect"
                    }
                  }
                }
              }
            }
          },
          "5xx": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Error occured during user verification"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/forgot-password": {
      "post": {
        "tags": ["Users"],
        "summary": "Forgot Password",
        "description": "Ini adalah API endpoint yang digunakan untuk mengirim request link reset password",
        "requestBody": {
          "description": "Request body untuk Forgot Password (request reset password)",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "description": "Email dari user yang melakukan request link reset password",
                    "example": "johndoe@mail.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Link reset password berhasil dikirimkan ke email user",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "An email contain the password reset link has been sent to your email"
                    }
                  }
                }
              }
            }
          },
          "4xx": {
            "description": "Failed to send password reset link",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "failed"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Email is required or Email does not exist"
                    }
                  }
                }
              }
            }
          },
          "5xx": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Unable to send password reset link due to an unknown error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/reset-password/": {
      "post": {
        "tags": ["Users"],
        "security": [
          {
            "bearerToken": []
          }
        ],
        "summary": "Reset Password",
        "description": "Ini adalah API endpoint yang digunakan untuk reset password menggunakan token yang telah disediakan",

        "requestBody": {
          "description": "Request body untuk sukses Reset Password",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "password": {
                    "type": "string",
                    "description": "New password of the user",
                    "example": "87654321"
                  },
                  "confirmPassword": {
                    "type": "string",
                    "description": "Confirm password of the user",
                    "example": "87654321"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password successfully reset",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Your password has been changed successfully"
                    }
                  }
                }
              }
            }
          },
          "4xx": {
            "description": "Failed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "failed"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Password must be at least 8 characters or password does not match or password reset link no longer valid"
                    }
                  }
                }
              }
            }
          },
          "5xx": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Error occured during the password reset process"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": ["Users"],
        "summary": "Login a user",
        "description": "ini adalah API endpoint untuk autentikasi dan login user menggunakan email dan password",
        "requestBody": {
          "description": "Request body untuk success login",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "description": "Email address of the user",
                    "example": "johndoe@mail.com"
                  },
                  "password": {
                    "type": "string",
                    "description": "Password of the user",
                    "example": "12345678"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User Login successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Login success!"
                    },
                    "data": {
                      "tipe": "object",
                      "properties": {
                        "token": {
                          "type": "string",
                          "description": "Token of the user"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "4xx": {
            "description": "Failed to Login User",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "failed"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": " Email or password incorrect"
                    }
                  }
                }
              }
            }
          },
          "5xx": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "An unexpected error occured during the login process "
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/update": {
      "put": {
        "tags": ["Users"],
        "security": [
          {
            "bearerToken": []
          }
        ],
        "summary": "Update a user",
        "description": "Ini adalah API endpoint untuk melakukan update informasi user pada kolom informasi yang tertera",
        "requestBody": {
          "description": "Request body for User Update",
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Email of the user",
                    "example": "John Doe"
                  },
                  "phoneNumber": {
                    "type": "string",
                    "description": "Phone Number of the user",
                    "example": "1234567890"
                  },
                  "country": {
                    "type": "string",
                    "description": "Country of the user",
                    "example": "Indonesia"
                  },
                  "city": {
                    "type": "string",
                    "description": "City of the user",
                    "example": "Jakarta"
                  },
                  "image": {
                    "type": "string",
                    "format": "binary",
                    "description": "Profile Image of the user"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User account information updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Your Profile Updated successfully"
                    },
                    "data": {
                      "tipe": "object",
                      "properties": {
                        "updatedUser": {
                          "type": "object",
                          "description": "Data of the user",
                          "properties": {
                            "name": {
                              "type": "string",
                              "description": "Name of the user",
                              "example": "John Doe"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "4xx": {
            "description": "Failed to Update User Account Information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "failed"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Invalid authorization token format"
                    }
                  }
                }
              }
            }
          },
          "5xx": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Error occured during the user update process"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/update-password": {
      "put": {
        "tags": ["Users"],
        "security": [
          {
            "bearerToken": []
          }
        ],
        "summary": "Update a user password",
        "description": "Ini adalah API endpoint untuk melakukan update password user pada kolom yang tertera",
        "requestBody": {
          "description": "Request body for User Update password",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "oldPassword": {
                    "type": "string",
                    "description": "Old password of the user",
                    "example": "password123"
                  },
                  "newPassword": {
                    "type": "string",
                    "description": "New password of the user",
                    "example": "newpassword123"
                  },
                  "confirmPassword": {
                    "type": "string",
                    "description": "Confirm password of the user",
                    "example": "newpassword123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User account information updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Password updated successfully"
                    }
                  }
                }
              }
            }
          },
          "4xx": {
            "description": "Failed to Update User Password",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "failed"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Old password is incorrect"
                    }
                  }
                }
              }
            }
          },
          "5xx": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Error occured during the password update process"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/me": {
      "get": {
        "tags": ["Users"],
        "security": [
          {
            "bearerToken": []
          }
        ],
        "summary": "Get user details",
        "description": "Ini adalah API endpoint untuk mendapatkan detail dari user yang terautentikasi",
        "responses": {
          "200": {
            "description": "User details successfully retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "description": "Status of the request",
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "description": "Message of the request",
                      "type": "string",
                      "example": "User Get successfully"
                    },
                    "data": {
                      "description": "Data of the user",
                      "type": "object",
                      "properties": {
                        "user": {
                          "description": "Data of the user",
                          "type": "object",
                          "properties": {
                            "name": {
                              "description": "Name of the user",
                              "type": "string",
                              "example": "John Doe"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "4xx": {
            "description": "Failed to retrieve user details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "failed"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Invalid authorization token format"
                    }
                  }
                }
              }
            }
          },
          "5xx": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the request",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "description": "Message of the request",
                      "example": "Error occured during the retrieving process of user details"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerToken": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}
